{"ast":null,"code":"import _slicedToArray from\"C:/Users/nicolas/Desktop/curso de react/rursoreact/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import{useContext,useState}from'react';import{contextoGeneral}from\"../components/cartContext.jsx\";import{Button}from'@mui/material';import'../assets/css/checkout.css';import Alert from'@mui/material/Alert';import Stack from'@mui/material/Stack';import{ToastContainer,toast}from'react-toastify';import'react-toastify/dist/ReactToastify.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Checkout(){var _useContext=useContext(contextoGeneral),carrito=_useContext.carrito,setCarrito=_useContext.setCarrito;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),tel=_useState2[0],setTel=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),email=_useState4[0],setEmail=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),nombre=_useState6[0],setNombre=_useState6[1];function totalAPagar(){var totalAPagar=carrito.reduce(function(acc,item){return acc+item.precio*item.cantidad;},0);return totalAPagar;}function validateEmail(email){var emailReg=/^[-\\w.%+]{1,64}@(?:[A-Z0-9-]{1,63}\\.){1,125}[A-Z]{2,63}$/i;if(emailReg.test(email)==false){alert(\"mail invalido\");return false;}return true;}function validateName(nombre){var nombreReg=/^[a-zA-ZÀ-ÿ\\s]{1,40}$/;if(nombreReg.test(nombre)==false){alert(\"nombre invalido\");return false;}return true;}function validateTel(tel){var telReg=/^\\d{7,14}$/;if(telReg.test(tel)==false){alert(\"tel invalido\");return false;}return true;}function alerta(){toast.info('Usted esta comprando, por un total de $'+totalAPagar()+\" \"+carrito.map(function(item){return item.nombre+\" X\"+item.cantidad+\" \"+\"unidades\"+\" a \"+\"$\"+item.precio;}),{position:\"top-center\",autoClose:8000,hideProgressBar:true,closeOnClick:true,pauseOnHover:true,draggable:true,progress:undefined,theme:\"colored\"});}function pagar(){if(!tel||!email||!nombre){return;}if(validateEmail(email)==false){return;}if(validateName(nombre)==false){return;}if(validateTel(tel)==false){return;}alerta();}return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(ToastContainer,{}),/*#__PURE__*/_jsx(\"h1\",{className:\"titulo\",children:\"Formulario de Compra\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"checkout\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"input\",placeholder:\"nombre\",value:nombre,onChange:function onChange(e){return setNombre(e.target.value);}}),/*#__PURE__*/_jsx(\"input\",{className:\"input\",placeholder:\"tel\",value:tel,onChange:function onChange(e){return setTel(e.target.value);}}),/*#__PURE__*/_jsx(\"input\",{className:\"input\",placeholder:\"email\",value:email,onChange:function onChange(e){return setEmail(e.target.value);}}),carrito.map(function(item){return/*#__PURE__*/_jsxs(\"p\",{className:\"item\",children:[\"NOMBRE: \",item.nombre,\" / CANTIDAD: \",item.cantidad,\" / PRECIO-UNIDAD: $\",item.precio]});}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Total: $ \",totalAPagar(),\" \"]}),/*#__PURE__*/_jsx(\"div\",{className:\"bottom\",children:tel&&email&&nombre?/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"success\",onClick:function onClick(e){return pagar();},children:\"PAGAR\"}):/*#__PURE__*/_jsx(Stack,{sx:{width:'100%'},spacing:2,children:/*#__PURE__*/_jsx(Alert,{severity:\"error\",children:\"Complete todos los campos para continuar  \"})})})]})]});}","map":{"version":3,"names":["React","useContext","useState","contextoGeneral","Button","Alert","Stack","ToastContainer","toast","Checkout","carrito","setCarrito","tel","setTel","email","setEmail","nombre","setNombre","totalAPagar","reduce","acc","item","precio","cantidad","validateEmail","emailReg","test","alert","validateName","nombreReg","validateTel","telReg","alerta","info","map","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","theme","pagar","e","target","value","width"],"sources":["C:/Users/nicolas/Desktop/curso de react/rursoreact/src/components/checkout.jsx"],"sourcesContent":["import React from 'react'\nimport { useContext, useState } from 'react';\nimport { contextoGeneral } from \"../components/cartContext.jsx\";\nimport { Button } from '@mui/material';\nimport '../assets/css/checkout.css'\nimport Alert from '@mui/material/Alert';\nimport Stack from '@mui/material/Stack';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\n\nexport default function Checkout() {\n    const {carrito, setCarrito} = useContext(contextoGeneral);\n    const [tel, setTel] = useState(\"\");\n    const [email, setEmail] = useState(\"\");\n    const [nombre, setNombre] = useState(\"\");\n\n    function totalAPagar(){\n        const totalAPagar= carrito.reduce((acc, item) => acc +  item.precio* item.cantidad , 0 );\n        return totalAPagar;\n    }\n\n    function validateEmail(email){\n        var emailReg = /^[-\\w.%+]{1,64}@(?:[A-Z0-9-]{1,63}\\.){1,125}[A-Z]{2,63}$/i;\n\n        if (emailReg.test(email)==false){\n            alert(\"mail invalido\");\n            return false;\n        }\n\n        return true;\n    }\n\n    function validateName(nombre){\n        var nombreReg = /^[a-zA-ZÀ-ÿ\\s]{1,40}$/;\n\n        if (nombreReg.test(nombre)==false){\n            alert(\"nombre invalido\");\n            return false;\n        }\n\n        return true;\n    }\n\n    function validateTel(tel){\n        var telReg = /^\\d{7,14}$/;\n\n        if (telReg.test(tel)==false){\n            alert(\"tel invalido\");\n            return false;\n        }\n\n        return true;\n    }\n\n    function alerta(){\n        toast.info('Usted esta comprando, por un total de $'+ totalAPagar() +\" \"+ carrito.map((item) => (\n            item.nombre + \" X\" +item.cantidad +\" \"+ \"unidades\" +\" a \"+\"$\" + item.precio \n        )),{\n            position: \"top-center\",\n            autoClose: 8000,\n            hideProgressBar: true,\n            closeOnClick: true,\n            pauseOnHover: true,\n            draggable: true,\n            progress: undefined,\n            theme: \"colored\",\n            });\n    }\n\n    function pagar() {\n        if (!tel || !email || !nombre) {\n            return\n        }\n        if (validateEmail(email) == false) {\n            return\n        }\n        if (validateName(nombre) == false) {\n            return\n        }\n        if (validateTel(tel) == false) {\n            return\n        }\n\n        alerta()\n\n    }\n\n    return (\n        <div className='container'>\n            <ToastContainer />\n            <h1 className='titulo'>Formulario de Compra</h1>\n\n            <div className='checkout'>\n\n\n                <input className='input' placeholder=\"nombre\" value={nombre} onChange={(e) => setNombre(e.target.value)} />\n                <input className='input' placeholder=\"tel\" value={tel} onChange={(e) => setTel(e.target.value)} />\n                <input className='input' placeholder=\"email\" value={email} onChange={(e) => setEmail(e.target.value)} />\n\n                {carrito.map((item) => (\n                    <p className='item'>NOMBRE: {item.nombre} / CANTIDAD: {item.cantidad} / PRECIO-UNIDAD: ${item.precio}</p>\n                ))}\n                <p>Total: $ {totalAPagar()} </p>\n                <div className='bottom'>\n                    {(tel && email && nombre) ? <Button variant=\"contained\" color=\"success\" onClick={(e) => pagar()} >PAGAR</Button> : <Stack sx={{ width: '100%' }} spacing={2}><Alert severity=\"error\">Complete todos los campos para continuar  </Alert></Stack>}\n                </div>\n            </div>\n        </div>\n    )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}